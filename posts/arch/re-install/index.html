<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content=""
  />
  
    
      <title>如何优雅地重新安装你的Arch Linux | Pony of Shadows</title>
    
  

  
  <script type="text/javascript">
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$']]
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <div id="root">
      <header>
  <div id="brand">
    <a class="icon-link" href="http://localhost:1313/">
      <img
        class="icon"
        src="/images/icon.png"
      />
    </a>
    <div class="text">
      <a href="http://localhost:1313/"><h1>Pony of Shadows</h1></a>
      <h3>Uncertainty is Fascinating.</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/"><b>Home</b></a>
      
         | 
        <a href="/posts/"><b>Posts</b></a>
      
         | 
        <a href="/tags/"><b>Tags</b></a>
      
         | 
        <a href="/about/"><b>About</b></a>
      
    
  </nav>
  <hr />
</header>

      <div id="content">
        
  <main>
    <article>
      <h1 class="title">如何优雅地重新安装你的Arch Linux</h1>
      
      <div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2024-06-11</time>
    
    
  </strong>
  <span> • 1098 words</span>
  <span> • 6 minute read</span>
  
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/linux">linux</a>, 
        <a href="/tags/arch-install">Arch-Install</a>
    </div>
  
</div>

      <div class="content"><h2 id="日常使用">日常使用</h2>
<ol>
<li>有序存放工作生活中使用的文件，并使用<code>rsync</code>等工具备份防止丢失</li>
<li>妥善配置系统，并使用脚本管理所有配置文件</li>
<li>对自己安装过的软件心中有数</li>
</ol>
<h2 id="在旧系统上备份">在旧系统上备份</h2>
<h3 id="用脚本备份包和配置文件">用脚本备份包和配置文件</h3>
<p>下面的脚本作为参考</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#/bin/bash</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># update : a script to backup and restore my work environment on ArchLinux</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Please run this script as wheel user after basic install of Arch Linux.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Principles</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 1. Take detailed notes in the script file</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 2. Always only do somesthing after judging that it has not been done yet.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 3. exit if somesthing goes wrong.</span>
</span></span><span style="display:flex;"><span>set -e
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Config</span>
</span></span><span style="display:flex;"><span>bak_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/all/local/share/backup-config&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup or Recover?</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> $1 in
</span></span><span style="display:flex;"><span>  backup<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    option<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span>  recover<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    option<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;r&#34;</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span>  *<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;Please use option &#39;backup or &#39;recover&#39;.&#34;</span>
</span></span><span style="display:flex;"><span>    exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    ;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Func</span>
</span></span><span style="display:flex;"><span>has_installed<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>  pacman -Qs | grep -E <span style="color:#e6db74">&#34;^local/</span><span style="color:#e6db74">${</span>1<span style="color:#e6db74">}</span><span style="color:#e6db74"> &#34;</span> &amp;&gt; /dev/null
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>update_pkg<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    local pkg
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> pkg in <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>      has_installed <span style="color:#e6db74">&#34;</span>$pkg<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> sudo pacman -S --noconfirm <span style="color:#e6db74">&#34;</span>$pkg<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>update_aur_pkg<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    local pkg
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> pkg in <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>      has_installed <span style="color:#e6db74">&#34;</span>$pkg<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> yay -S --noconfirm <span style="color:#e6db74">&#34;</span>$pkg<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>update_config<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>  local config_file
</span></span><span style="display:flex;"><span>  local config_basename
</span></span><span style="display:flex;"><span>  local relative_dir
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> config_file in <span style="color:#e6db74">&#34;</span>$@<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    config_basename<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> ~/* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># wheel-home</span>
</span></span><span style="display:flex;"><span>      relative_dir<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>dirname <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>config_file/#$HOME/<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># recover</span>
</span></span><span style="display:flex;"><span>        mkdir -p ~/$relative_dir
</span></span><span style="display:flex;"><span>        rsync -rlpt $bak_path/wheel-home/$relative_dir/$config_basename ~/$relative_dir
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># backup</span>
</span></span><span style="display:flex;"><span>        mkdir -p $bak_path/wheel-home/$relative_dir
</span></span><span style="display:flex;"><span>        rsync -rlpt --delete <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span> $bak_path/wheel-home/$relative_dir/
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># fs-root</span>
</span></span><span style="display:flex;"><span>      relative_dir<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>dirname <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span>   
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># recover</span>
</span></span><span style="display:flex;"><span>        sudo mkdir -p $relative_dir
</span></span><span style="display:flex;"><span>        sudo rsync -a --no-D $bak_path/fs-root/$relative_dir/$config_basename $relative_dir
</span></span><span style="display:flex;"><span>        sudo chown -R root:root <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># backup</span>
</span></span><span style="display:flex;"><span>        sudo mkdir -p $bak_path/fs-root/$relative_dir
</span></span><span style="display:flex;"><span>        sudo rsync -a --no-D --delete <span style="color:#e6db74">&#34;</span>$config_file<span style="color:#e6db74">&#34;</span> $bak_path/fs-root/$relative_dir/
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># main</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> id -nG <span style="color:#e6db74">&#34;</span>$USER<span style="color:#e6db74">&#34;</span> | grep -qw <span style="color:#e6db74">&#34;wheel&#34;</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># grub</span>
</span></span><span style="display:flex;"><span>  update_config /etc/default/grub
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo grub-mkconfig -o /boot/grub/grub.cfg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Internet Connection</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## DNS</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo chattr -i /etc/resolv.conf
</span></span><span style="display:flex;"><span>  update_config /etc/resolv.conf
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo chattr +i /etc/resolv.conf
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## wpa</span>
</span></span><span style="display:flex;"><span>  update_config /etc/wpa_supplicant
</span></span><span style="display:flex;"><span>  wifi_interface<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>ip link show | awk -F: <span style="color:#e6db74">&#39;/wl/ {print $2}&#39;</span> | tr -d <span style="color:#e6db74">&#39; &#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    sudo mkdir -p <span style="color:#e6db74">&#34;/etc/systemd/system/&#34;</span>
</span></span><span style="display:flex;"><span>    sudo rm -f /etc/systemd/system/wpa_supplicant*
</span></span><span style="display:flex;"><span>    sudo cp <span style="color:#e6db74">${</span>bak_path<span style="color:#e6db74">}</span>/fs-root/etc/systemd/system/wpa_supplicant@*.service <span style="color:#e6db74">&#34;/etc/systemd/system/wpa_supplicant@</span><span style="color:#e6db74">${</span>wifi_interface<span style="color:#e6db74">}</span><span style="color:#e6db74">.service&#34;</span>
</span></span><span style="display:flex;"><span>    sudo systemctl enable --now <span style="color:#e6db74">&#34;wpa_supplicant@</span><span style="color:#e6db74">${</span>wifi_interface<span style="color:#e6db74">}</span><span style="color:#e6db74">.service&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    sudo mkdir -p <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>bak_path<span style="color:#e6db74">}</span><span style="color:#e6db74">/fs-root/etc/systemd/system/&#34;</span>
</span></span><span style="display:flex;"><span>    sudo rm -f <span style="color:#e6db74">${</span>bak_path<span style="color:#e6db74">}</span>/fs-root/etc/systemd/system/wpa_supplicant*
</span></span><span style="display:flex;"><span>    sudo cp <span style="color:#e6db74">&#34;/etc/systemd/system/wpa_supplicant@</span><span style="color:#e6db74">${</span>wifi_interface<span style="color:#e6db74">}</span><span style="color:#e6db74">.service&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>bak_path<span style="color:#e6db74">}</span><span style="color:#e6db74">/fs-root/etc/systemd/system/&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## dhcpcd</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo systemctl enable --now dhcpcd
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] Internet Connection&#34;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Time</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## time zone</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## RTC time</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo timedatectl set-ntp on
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo timedatectl set-local-rtc <span style="color:#ae81ff">0</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## write to device time</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo hwclock --systohc
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] Time&#34;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Pacman, AUR, git, pip</span>
</span></span><span style="display:flex;"><span>  update_config /etc/pacman.conf
</span></span><span style="display:flex;"><span>  update_config /etc/pacman.d/mirrorlist
</span></span><span style="display:flex;"><span>  update_config /etc/pacman.d/hooks/update_snapshot.hook
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo pacman -Syu --noconfirm
</span></span><span style="display:flex;"><span>  update_pkg git git-lfs openssh
</span></span><span style="display:flex;"><span>  update_config ~/.gitconfig
</span></span><span style="display:flex;"><span>  update_config ~/.ssh <span style="color:#75715e"># ssh for github</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> git lfs install
</span></span><span style="display:flex;"><span>  update_config ~/.pip/pip.conf
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## yay, see: https://wiki.archlinuxcn.org/wiki/Yay</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> ! has_installed <span style="color:#e6db74">&#34;yay-bin&#34;</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    cd ~/local/lib/yay-bin/
</span></span><span style="display:flex;"><span>    git pull origin master
</span></span><span style="display:flex;"><span>    makepkg -si --noconfirm
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] Pacman, AUR, Git, Pip&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># language &amp; Font</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## lang</span>
</span></span><span style="display:flex;"><span>  update_config /etc/locale.gen
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo locale-gen
</span></span><span style="display:flex;"><span>  update_config /etc/locale.conf
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## font</span>
</span></span><span style="display:flex;"><span>  update_pkg wqy-microhei noto-fonts-cjk noto-fonts-emoji noto-fonts-extra
</span></span><span style="display:flex;"><span>  update_config /etc/fonts/conf.d/64-language-selector-prefer.conf
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] Font&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># dir</span>
</span></span><span style="display:flex;"><span>  update_config ~/.config/user-dirs.conf
</span></span><span style="display:flex;"><span>  update_config ~/.config/user-dirs.dirs
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] Dir&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Shell</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## bash</span>
</span></span><span style="display:flex;"><span>  update_pkg bash-completion fzf powerline powerline-fonts
</span></span><span style="display:flex;"><span>  update_config ~/.bash
</span></span><span style="display:flex;"><span>  update_config ~/.bash_profile
</span></span><span style="display:flex;"><span>  update_config ~/.bashrc
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">## nvim</span>
</span></span><span style="display:flex;"><span>  update_pkg neovim
</span></span><span style="display:flex;"><span>  update_pkg ccls jedi-language-server rust-analyzer texlab <span style="color:#75715e"># language servers</span>
</span></span><span style="display:flex;"><span>  update_aur_pkg cmake-language-server fortls
</span></span><span style="display:flex;"><span>  update_config ~/.config/nvim <span style="color:#75715e"># Please wait at first start</span>
</span></span><span style="display:flex;"><span>......
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># develop</span>
</span></span><span style="display:flex;"><span>  update_pkg jdk17-openjdk jdk21-openjdk <span style="color:#75715e"># java for minecraft</span>
</span></span><span style="display:flex;"><span>  update_pkg rust
</span></span><span style="display:flex;"><span>  update_pkg gdb
</span></span><span style="display:flex;"><span>  update_pkg inetutils <span style="color:#75715e"># MATHEMATICA requires</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> sudo systemctl enable --now avahi-daemon.service <span style="color:#75715e"># for MATHEMATICA</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;[Done] develop&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># reboot</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">[[</span> -n $option <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;Alright. Please reboot...&#34;</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;Please run this script as user in wheel group&#34;</span>
</span></span><span style="display:flex;"><span>  exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;OK&#34;</span>
</span></span></code></pre></div><h3 id="备份所有必要文件到备用硬盘">备份所有必要文件到备用硬盘</h3>
<p>我所有有用的文件储存在<code>~/all/</code>目录下，并通过自己写的一个名叫<a href="https://github.com/ponyofshadows/poshd">poshd</a>的bash脚本管理。</p>
<p>像这样备份<code>all/</code>到<code>/mnt/</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>po -b /mnt
</span></span></code></pre></div><h2 id="新系统的基础安装">新系统的基础安装</h2>
<p>参考之前的文章</p>
<ul>
<li><a href="https://ponyofshadows.com/posts/arch-setup/basic/">basic</a></li>
<li><a href="https://ponyofshadows.com/posts/arch-setup/basic_config/">basic_config</a></li>
</ul>
<h3 id="用live系统启动">用live系统启动</h3>
<h4 id="制作usb闪存安装介质">制作<a href="https://wiki.archlinux.org/title/USB_flash_installation_medium">USB闪存安装介质</a></h4>
<ol>
<li>在<a href="https://archlinux.org/download/">Download</a>页面找到自己所在国家的镜像站下载最新的ISO(光盘镜像文件)，对于中国，可以是<a href="https://mirrors.ustc.edu.cn/archlinux/iso/latest/">中科大镜像源</a>。比如下面这两个文件，都要下载下来, 放在同一个目录待验证</li>
</ol>
<pre tabindex="0"><code>archlinux-2024.06.01-x86_64.iso                    01-Jun-2024 17:09          1168146432
archlinux-2024.06.01-x86_64.iso.sig                01-Jun-2024 17:09                 141
</code></pre><p>前者是我们需要的ISO，后者是ISO的发布者使用私钥生成的签名文件，可以用来验证原文件是否完整且完全没有被修改。像这样进行验证：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># On Arch linux (-v = --verify)</span>
</span></span><span style="display:flex;"><span>pacman-key -v archlinux-version-x86_64.iso.sig
</span></span><span style="display:flex;"><span><span style="color:#75715e"># On any system with GnuPG installed</span>
</span></span><span style="display:flex;"><span>gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig
</span></span></code></pre></div><p>看到&quot;Good signature&quot;之类的字眼，说明验证成功。</p>
<ol start="2">
<li>插入自己的闪存，然后以root身份使用 <code>dd</code> 命令写入ISO，注意of参数需要的是磁盘设备名而不是分区名 <em>(甚至可以使用cat或cp)</em></li>
</ol>
<pre tabindex="0"><code>dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/disk/by-id/usb-My_flash_drive conv=fsync oflag=direct status=progress
</code></pre><p>下面解释一下这行命令</p>
<ul>
<li><code>bs=4M</code> 这个参数指定了块大小（block size）为4MB, 使用较大的块理论上能提高复制的效率，但复制效率的上限被诸多因素定死，设置为4M即可。</li>
<li><code>conv=fsync</code> 这个选项确保在复制过程中数据写入到磁盘时，所有的内存缓冲区都被刷新（fsync），以保证数据的完整性</li>
<li><code>oflag=direct</code> 这个选项告诉 <code>dd</code> 直接写入到输出文件，绕过系统缓存。这样可以提高大文件写入时的性能，并减少系统缓存对其他进程的影响。</li>
<li><code>status=progress</code> 这个选项告诉 <code>dd</code> 输出进度信息，使用户可以看到复制过程中的进度。</li>
</ul>
<h4 id="通过自己的闪存启动live系统">通过自己的闪存启动live系统</h4>
<h3 id="配置镜像源">配置镜像源</h3>
<p>把live系统上预装的这个没点用的工具停用了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl stop reflector.service
</span></span></code></pre></div><p>打开<code>/etc/pacman.d/mirrorlist</code>, 把下面四行放在最前面：</p>
<pre tabindex="0"><code>Server = http://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
</code></pre><h3 id="连接网络同步时间">连接网络，同步时间</h3>
<ol>
<li>连接网络。有线网络直接插上网线即可，无线网络可以用 <code>iwctl</code> 或 <code>wpa_suppliant + wpa_cli</code>。</li>
<li>更新时钟
在网络传输的各种较验中，时钟错误可能导致失败。使用以下命令更新live系统的时钟</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>timedatectl set-ntp true    <span style="color:#75715e">#将系统时间与网络时间进行同步</span>
</span></span><span style="display:flex;"><span>timedatectl status          <span style="color:#75715e">#检查服务状态</span>
</span></span></code></pre></div><h3 id="分区文件系统和挂载-生成fstab">分区，文件系统和挂载; 生成fstab</h3>
<ol>
<li>分区方案:</li>
</ol>
<ul>
<li>Disk1
<ul>
<li><code>/boot</code> (ESP): 1G</li>
<li><a href="https://www.linux.com/news/all-about-linux-swap-space/">SWAP</a>: 20G (slightly larger than physical memory)</li>
<li><code>/</code>: remain space</li>
</ul>
</li>
<li>Disk2
<ul>
<li><code>/home</code> (不需要用fdisk进行分区)</li>
</ul>
</li>
</ul>
<ol start="2">
<li>创建文件系统</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkfs.fat -F <span style="color:#ae81ff">32</span> /dev/efi_system_partition <span style="color:#75715e"># ESP</span>
</span></span><span style="display:flex;"><span>mkswap /dev/hdb1 <span style="color:#75715e"># SWAP</span>
</span></span><span style="display:flex;"><span>mkfs.btrfs -L mylabel /dev/partition <span style="color:#75715e"># /</span>
</span></span><span style="display:flex;"><span>mkfs.xfs device <span style="color:#75715e"># /home</span>
</span></span></code></pre></div><ol start="3">
<li>挂载和创建Btrfs子卷</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>btrfs subvolume create /dev/partition_root @current
</span></span><span style="display:flex;"><span>mount -o subvol<span style="color:#f92672">=</span>@current /dev/partition_root /mnt
</span></span><span style="display:flex;"><span>mount -m /dev/partition_efi /mnt/@current/boot
</span></span><span style="display:flex;"><span>mount -m /dev/partition_home /mnt/@current/home
</span></span></code></pre></div><ol start="4">
<li>生成fstab</li>
</ol>
<ul>
<li>为了在启动我们安装的系统时能够自动挂载，需要生成fstab文件</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir /mnt/@current/etc
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 一定要用-U，即根据UUID挂载，否则默认根据盘名挂载，这在有多个硬盘时会因为顺序不定而出现问题。</span>
</span></span><span style="display:flex;"><span>genfstab -U /mnt/@current &gt;&gt; /mnt/@current/etc/fstab
</span></span></code></pre></div><ul>
<li>向fstab文件中追加一行swap分区
首先以root身份使用<code>blkid</code>命令查看UUID</li>
</ul>
<p>(也可用lsblk)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>lsblk -o NAME,FSTYPE,UUID
</span></span></code></pre></div><p>然后用cat等工具在fstab文件末尾追加以下文本, 其中discard选项是启用丢弃策略，即<code>swapon -d</code>。</p>
<pre tabindex="0"><code># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;   &lt;dump&gt;  &lt;pass&gt;
UUID=your_swap_uuid	none    swap 	defaults,discard  	0 0
</code></pre><ul>
<li>检查没有错误</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat /mnt/@current/etc/fstab
</span></span></code></pre></div><h3 id="向新系统安装基本包">向新系统安装基本包</h3>
<ol>
<li>最基本的包</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacstrap /mnt/@current base base-devel linux-zen linux-zen-headers linux-firmware
</span></span></code></pre></div><ul>
<li><code>base</code>: Arch Linux的基础包集合，包含了一个最小化的可用系统所需的核心软件包。它包括基本的文件系统工具、基本的 Shell（如bash）、核心库和其他基本工具。</li>
<li><code>base-devel</code>: 包含了一组用于开发的软件包, 包括编译器、调试工具等。安装它是为了方便安装和编译其他软件包</li>
<li><code>linux-zen</code>: zen内核, 相比默认内核桌面使用体验更佳。</li>
<li><code>linux-zen-headers</code>: 与<code>linux-zen</code>包对应的内核头文件包, 它包含了用于编译内核模块和驱动程序的头文件。</li>
<li><code>linux-firmware</code>: 各种硬件设备所需的固件文件</li>
</ul>
<ol start="2">
<li>系统引导和正常运行必须的包</li>
</ol>
<ul>
<li>安装微码</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacstrap /mnt/@current intel-ucode   <span style="color:#75715e">#Intel</span>
</span></span><span style="display:flex;"><span>pacstrap /mnt/@current amd-ucode     <span style="color:#75715e">#AMD</span>
</span></span></code></pre></div><ul>
<li>安装引导程序</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacstrap /mnt/@current grub efibootmgr
</span></span></code></pre></div><ul>
<li>安装文件系统工具</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pascstrap /mnt/@current btrfs-progs xfsprogs
</span></span></code></pre></div><ol start="3">
<li>安装联网工具, 备份恢复工具, 编辑器</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pascstrap /mnt/@current wpa_suppliant dhcpcd rsync neovim
</span></span></code></pre></div><h3 id="chroot">Chroot</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>arch-chroot /mnt/@current
</span></span></code></pre></div><h3 id="新系统的引导">新系统的引导</h3>
<p>安装GRUB引导加载程序到/boot</p>
<pre tabindex="0"><code>grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB
</code></pre><p>确认<code>/etc/default/grub</code>中这一行为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>GRUB_CMDLINE_LINUX<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rootflags=subvol=/@current&#34;</span>
</span></span></code></pre></div><p>最后生成GRUB所需的配置文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><h3 id="设置主机名">设置主机名</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nvim /etc/hostname
</span></span></code></pre></div><p>在这个文件中输入你想好的主机名即可，然后</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nvim /etc/hosts
</span></span></code></pre></div><p>在这个文件下加入类似以下内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1   localhost
</span></span><span style="display:flex;"><span>::1         localhost
</span></span><span style="display:flex;"><span>127.0.1.1   my_hostname
</span></span></code></pre></div><h3 id="root用户">root用户</h3>
<h3 id="给root用户添加密码">给root用户添加密码</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd root
</span></span></code></pre></div><h3 id="添加一个wheel用户">添加一个wheel用户</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># -m同时创建家目录，wheel是可sudo的用户组</span>
</span></span><span style="display:flex;"><span>useradd -m -G wheel -s /bin/bash user0
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置密码</span>
</span></span><span style="display:flex;"><span>passwd user0
</span></span></code></pre></div><h3 id="sudo的配置">sudo的配置</h3>
<p>sudo在archlinux中属于基本组件，用来暂时暂时以其它用户的身份运行代码或执行文件。</p>
<p>sudo用户的配置文件是<code>/etc/sudoers</code>, 这个文件原则上只能通过<code>visudo</code>命令编辑</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 用环境变量指明编辑器是vim, 以后安装了neovim也可指定为nvim.</span>
</span></span><span style="display:flex;"><span>EDITOR<span style="color:#f92672">=</span>vim visudo
</span></span></code></pre></div><p>这个文件中我们只需要关注以下部分</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">##</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## User privilege specification</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">##</span>
</span></span><span style="display:flex;"><span>root ALL<span style="color:#f92672">=(</span>ALL:ALL<span style="color:#f92672">)</span> ALL
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Uncomment to allow members of group wheel to execute any command</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># %wheel ALL=(ALL:ALL) ALL</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Same thing without a password</span>
</span></span><span style="display:flex;"><span>%wheel ALL<span style="color:#f92672">=(</span>ALL:ALL<span style="color:#f92672">)</span> NOPASSWD: ALL
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Uncomment to allow members of group sudo to execute any command</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># %sudo ALL=(ALL:ALL) ALL</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Uncomment to allow any user to run sudo if they know the password</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## of the user they are running the command as (root by default).</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Defaults targetpw  # Ask for the password of the target user</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ALL ALL=(ALL:ALL) ALL  # WARNING: only use this together with &#39;Defaults targetpw&#39;</span>
</span></span></code></pre></div><p>下面以<code>root ALL=(ALL:ALL) ALL</code>为例讲解一下这几行命令</p>
<ul>
<li>开头的<code>root</code>表示要操作的用户，这里是root用户</li>
<li>第1个ALL所在的字段表示主机名，这里用&quot;ALL&quot;说明指定的用户在任何主机上都能使用<code>sudo</code>命令</li>
<li><code>()</code>中的两个字段，第1个ALL表示可以以任何用户身份运行命令；第二个ALL表示可以以任何组身份运行命令。</li>
<li>最后一个ALL表示允许执行所有命令</li>
</ul>
<h3 id="卸载和重启">卸载和重启</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>exit                <span style="color:#75715e"># 退回安装环境#</span>
</span></span><span style="display:flex;"><span>umount -R  /mnt     <span style="color:#75715e"># 卸载新分区</span>
</span></span><span style="display:flex;"><span>reboot              <span style="color:#75715e"># 重启</span>
</span></span></code></pre></div><p>拔掉闪存，启动新系统</p>
<p>notice:</p>
<ul>
<li>wpa_supplicant configuration</li>
<li>dhcpcd</li>
<li>git</li>
</ul>
<h2 id="新系统上恢复到旧系统工作环境">新系统上恢复到旧系统工作环境</h2>
<h3 id="恢复工作文件">恢复工作文件</h3>
<p>挂载备份盘后，用po进行恢复</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>. /mnt/all/local/lib/bash/bash_tools/poshd/po.sh
</span></span><span style="display:flex;"><span>po -r /mnt
</span></span></code></pre></div><h3 id="恢复配置文件和软件包">恢复配置文件和软件包</h3>
<p>使用前文的update脚本进行恢复</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./update.sh recover
</span></span></code></pre></div></div>
    </article>
  </main>

      </div>
      <footer>
  <hr />
  
    <p id="social">
      Find me around the web:
      <br />
      
        
        <a href="https://github.com/Ponyofshadows">GitHub</a>
      
    </p>
  
  <p class="copyright">
    Copyright © 2025
    <a href="http://localhost:1313/"><strong>ponyofshadows</strong></a>.
    This work is licensed under the
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.
  </p>
  <p class="builtWith">
    Built with
    <a href="http://www.gohugo.io/">Hugo</a>,
    using the theme
    <a href="https://gitlab.com/ian-s-mcb/smigle-hugo-theme">smigle</a>,
    which was influenced by the theme
    <a href="https://github.com/sumnerevans/smol">smol</a>.
  </p>
</footer>

    </div>
  </body>
</html>
